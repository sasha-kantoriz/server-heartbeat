---

- name: Clear remote logs folders
  file:
    dest: "{{ remote_logs_path }}/"
    state: absent
  tags:
    - clear_remote
    - setup
- name: Make remote logs folders
  file:
    dest: "{{ remote_logs_path }}"
    state: directory
    owner: "{{ ansible_user }}"
    mode: '777'
  tags:
    - setup_remote
    - setup
- name: Make remote logs folders
  file:
    dest: "{{ remote_logs_path }}/{{ ansible_ssh_host }}/pre"
    state: directory
  tags:
    - setup_remote
    - setup
- name: Make remote logs folders
  file:
    dest: "{{ remote_logs_path }}/{{ ansible_ssh_host }}/post"
    state: directory
  tags:
    - setup_remote
    - setup
- name: Make ansible server logs folder
  file:
    dest: "{{ ansible_server_logs_path }}"
    state: directory
    mode: '777'
  delegate_to: localhost
  tags:
    - setup_local
    - setup
- name: Make ansible server logs folder
  file:
    dest: "{{ ansible_server_logs_path }}/prev"
    state: directory
    mode: '777'
  delegate_to: localhost
  tags:
    - setup_local
    - setup